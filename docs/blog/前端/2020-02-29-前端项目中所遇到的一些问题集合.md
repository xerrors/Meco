---
title: "å‰ç«¯é¡¹ç›®ä¸­æ‰€é‡åˆ°çš„ä¸€äº›é—®é¢˜é›†åˆ"
date: 2020-02-29 21:03:13
permalink: /problems-and-solutions/
tags: 
 - å‰ç«¯
categories: å‰ç«¯
---

å¼€å‘ä¸­ä¼šé‡åˆ°çš„é—®é¢˜é›†åˆï¼Œæœ‰çš„æ¯”è¾ƒé«˜çº§ï¼Œæœ‰çš„è¶…çº§åŸºç¡€ï¼Œå…¨éƒ¨è®°ä¸‹æ¥äº†ã€‚ã€‚è¯´åˆ°åº•è¿˜æ˜¯åŸºç¡€ä¸æ‰å®ã€‚æˆ‘åœ¨æ¯ä¸€ä¸ªé‡åˆ°çš„é—®é¢˜çš„è§£å†³æ–¹æ³•æ—è¾¹éƒ½æ”¾äº†å¸®åŠ©æˆ‘è§£å†³é—®é¢˜çš„é“¾æ¥ã€‚å¸Œæœ›ä¹Ÿå¯ä»¥å¸®åŠ©åˆ°å…¶ä»–äººã€‚	

## Vue ç›¸å…³

### 1. é…ç½®ä»£ç†è½¬å‘

````js
module.exports = {
  devServer: {
    // è¿™ä¸ªå‚æ•°ä¼šåœ¨æ¯æ¬¡ç¼–è¯‘å®Œæˆä¹‹åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    open: true,
    host: 'localhost',
    port: 8080,
    https: false, // æ˜¯å¦æ”¯æŒ https
    hotOnly: true, // çƒ­æ›´æ–°ï¼ˆä¼¼ä¹æ²¡æœ‰ç”¨ï¼‰
    /*
     * ä»¥ä¸Šçš„ipå’Œç«¯å£æ˜¯æˆ‘ä»¬æœ¬æœºçš„;ä¹Ÿå°±æ˜¯é…ç½®ä¹‹åä½ åœ¨æµè§ˆå™¨é‡Œé¢æ‰€çœ‹åˆ°
     * çš„ç›®çš„ IP åœ°å€ä»¥åŠç«¯å£æ˜¯ä½ çš„ä¸»æœºï¼Œä¹Ÿå°±æ˜¯è·¨åŸŸè½¬å‘çš„ç»“æœã€‚
     */
      
    // ä¸‹é¢ä¸ºéœ€è¦è·¨åŸŸçš„
    proxy: { // é…ç½®è·¨åŸŸ
      '/api': {
        // è¿™é‡Œåå°çš„åœ°å€æ¨¡æ‹Ÿçš„;åº”è¯¥å¡«å†™ä½ ä»¬çœŸå®çš„åå°æ¥å£
        target: 'http://xxx.xxx.xxx.xxx/v2', 
        ws: true,
        changOrigin: true, // å…è®¸è·¨åŸŸ
        pathRewrite: {
          '^/api': ''// è¯·æ±‚çš„æ—¶å€™ä½¿ç”¨è¿™ä¸ªapiå°±å¯ä»¥
        }
      }
    }
  }
}
````

PSï¼šè¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ï¼Œå½“ä½ çš„`api`æˆ–è€…å…¶ä»–çš„ä¸€äº›é…ç½®æ›´æ”¹ä¹‹åéœ€è¦é‡æ–°ç¼–è¯‘ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä½†æ˜¯äº‹å®å¦‚æ­¤ï¼ŒæŠ˜è…¾äº†å¾ˆä¹…æ‰çŸ¥é“ã€‚

> è¿™ä¸ªçš„å‚è€ƒæºæˆ‘ä¹‹å‰ä¿å­˜çš„è¢«æˆ‘å¼„ä¸¢äº†ï¼Œä¸è¿‡ç½‘ä¸Šä¸€æœä¸€å¤§å †ï¼Œä¹Ÿå°±ä¸å­˜åœ¨ä¾µä¸ä¾µæƒäº†å§ã€‚

### 2. mount æ—¶è®¿é—® Vuex

åœ¨ä½¿ç”¨`state`é‡Œé¢çš„æ•°æ®çš„æ—¶å€™ï¼Œæ— è®ºæ˜¯åœ¨ `data`é‡Œé¢ä½¿ç”¨ï¼Œè¿˜æ˜¯åœ¨`mounted`é‡Œé¢ä½¿ç”¨éƒ½ä¼šå‡ºç°æ— æ³•è·å–`state`é‡Œé¢æ•°æ®çš„æƒ…å†µã€‚

```js
data () {
  return {
    form: {
      avatar: this.avatar,
      account: this.name,
      collection: {
        way: 'æ”¯ä»˜å®',
        account: '17685673489'
      },
      tel: this.tel
    }
  }
},
computed: {
  ...mapGetters(['avatar', 'name', 'tel'])
},
mounted () {
  this.form.avatar = this.$store.state.avatar
  this.form.account = this.$store.state.name
  this.form.tel = this.$store.state.tel
},
```

å¯¼è‡´æœ€ç»ˆæ¸²æŸ“ç»“æœä¸ºç©ºã€‚

#### åŸå› åˆ†æ

> å‚è€ƒï¼š[vuexä¸­çš„stateåœ¨ç»„ä»¶ä¸­å¦‚ä½•ç›‘å¬@æ˜é‡‘](https://juejin.im/post/5923a3bf2f301e006b272bed)
>
> åŸå› æ˜¯å› ä¸º `vuex`ä¸­çš„`state`ä¼šåœ¨æŸä¸€ä¸ªç»„ä»¶ä¸­ä½¿ç”¨ï¼Œè€Œè¿™ä¸ªçŠ¶æ€çš„åˆå§‹åŒ–æ˜¯é€šè¿‡å¼‚æ­¥åŠ è½½å®Œæˆçš„ã€‚ç»„ä»¶åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œè·å–çš„`state`çŠ¶æ€ä¸ºç©ºã€‚ä¹Ÿå°±æ˜¯è¯´ç»„ä»¶åœ¨å¼‚æ­¥å®Œæˆä¹‹å‰å°±å·²ç»å®Œæˆæ¸²æŸ“äº†ï¼Œå¯¼è‡´ç»„ä»¶çš„æ•°æ®æ²¡æœ‰æ¥å¾—åŠæ¸²æŸ“ã€‚

ç®€å•æ¥è¯´å°±æ˜¯å½“`data`åœ¨æ¸²æŸ“çš„æ—¶å€™ï¼Œ`state`è¿˜æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥æ²¡æ³•è·å¾—æˆ‘ä»¬æƒ³è¦çš„å€¼ã€‚

#### è§£å†³åŠæ³•

ç¬¬ä¸€ç§è§£å†³åŠæ³•ï¼Œå®Œç¾è§£å†³è·å–æ•°æ®çš„é—®é¢˜ã€‚

```js
computed: {
  ...mapGetters(['avatar', 'name', 'tel']),
  form () {
    return {
      avatar: this.avatar,
      account: this.name,
      collection: {
        way: 'æ”¯ä»˜å®',
        account: '17685673489'
      },
      tel: this.tel
    }
  }
}
```

è¿™æ ·è™½ç„¶èƒ½å¤Ÿè§£å†³è·å–æ•°æ®çš„é—®é¢˜ï¼Œä½†æ˜¯ç”±äºæˆ‘çš„ä½¿ç”¨åœºæ™¯æ˜¯ä½œç”¨ä¸è¡¨å•ï¼Œéœ€è¦å¯ä»¥ä¿®æ”¹ï¼›å¦‚æœé‡‡ç”¨ä¸Šé¢æ‰€è¿°æ–¹æ³•çš„è¯ä¼šå¯¼è‡´è¡¨å•é‡Œé¢çš„æ•°æ®æ— æ³•è¢«ä¿®æ”¹ï¼Œè¾¾ä¸åˆ°æˆ‘çš„ç›®çš„ã€‚å½“ç„¶ï¼Œå¯¹äºåªéœ€è¦è·å–æ•°æ®çš„æƒ…å†µè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³åŠæ³•ã€‚

~~ç¬¬äºŒç§è§£å†³åŠæ³•ï¼Œæˆ‘éœ€è¦çš„æ–¹å¼æ˜¯èƒ½å¤Ÿåœ¨é¡µé¢åŠ è½½å®Œæˆä¹‹åè·å–ä¸€æ¬¡æ•°æ®ï¼ŒåŒæ—¶æˆ‘åé¢è¿˜å¯ä»¥ä¿®æ”¹ã€‚å¥½å§ï¼Œæˆ‘æ²¡æ‰¾åˆ°å¥½çš„åŠæ³•ï¼Œæœ€åæˆ‘é‡‡ç”¨çš„åŠæ³•æ˜¯ä½¿ç”¨`state`é‡Œé¢çš„æ•°æ®æ˜¾ç¤ºåœ¨`input`ä¸Šé¢çš„`placeholder`ä¸Šé¢ï¼Œå®Œç¾è§£å†³é—®é¢˜ã€‚~~

ç¬¬äºŒç§åŠæ³•å°±æ˜¯ä½¿ç”¨è®¡ç®—å±æ€§çš„`get`å’Œ`set`æ–¹æ³•ï¼š

> å‚è€ƒå®˜æ–¹ç¤ºä¾‹ï¼š[åŒå‘ç»‘å®šçš„è®¡ç®—å±æ€§](https://vuex.vuejs.org/zh/guide/forms.html#åŒå‘ç»‘å®šçš„è®¡ç®—å±æ€§) 
>
> è¯´å®è¯ä¸€å¹´å¤šæ²¡ç”¨è¿™ä¸ªå±æ€§æˆ‘éƒ½ç»™å¿˜è®°äº†ï¼Œä½†æ˜¯æˆ‘æœ€ç»ˆè¿˜æ˜¯æ²¡æœ‰é‡‡ç”¨è¿™ä¸ªåŠæ³•ï¼Œå› ä¸ºæˆ‘è¦ä¿®æ”¹çš„æ•°æ®å¾ˆå¤šï¼Œæ˜¯ä¸€ä¸ªè¡¨å•ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯ä½¿ç”¨äº†è°ƒç”¨åç«¯æ¥å£æ¥è·å¾—æ•°æ®ã€‚

```js
computed: {
  message: {
    get () {
      return this.$store.state.obj.message
    },
    set (value) {
      this.$store.commit('updateMessage', value)
    }
  }
}
```

### 3. åœ¨ js æ–‡ä»¶ä¸­è®¿é—® vuex çš„çŠ¶æ€

è¿™ä¸€å¬å°±æ˜¯åŸºæœ¬åŠŸä¸æ‰å®ï¼Œç¢°åˆ°è¿™ç§æƒ…å†µï¼Œç¬¬ä¸€æ—¶é—´å°±æ˜¯å»[å®˜ç½‘](https://vuex.vuejs.org/zh/guide/)ï¼Œä¸è¿‡å¾ˆé—æ†¾ï¼Œæ²¡æ‰¾åˆ°ã€‚åŸæœ¬æˆ‘è®°å¾—æ˜¯æœ‰çš„ï¼Œå¯èƒ½å®˜æ–¹æ›´æ–°ç»™ä¿®æ”¹äº†ï¼ˆæœç„¶æˆ‘è¿˜æ˜¯å¤ªèœäº†ï¼‰ï¼Œå®˜ç½‘æ‰¾ä¸åˆ°é‚£å°±Googleå‘—ï¼Œæ‰¾åˆ°äº†ã€‚

> å‚è€ƒï¼š[æ€ä¹ˆåœ¨å•ç‹¬çš„jsæ–‡ä»¶ä¸­ä½¿ç”¨vuex?@segmentfault](https://segmentfault.com/q/1010000018127421)
>
> ä»ä¸Šé¢é‚£ä¸ªå›ç­”é‡Œé¢ä¹Ÿèƒ½å°è¯æˆ‘çš„è®°å¿†æ˜¯å¯¹çš„ï¼Œä¹‹å‰çš„å®˜æ–¹æ–‡æ¡£ä¸‹é¢å°±æ˜¯è¿™ä¸ªä¾‹å­ï¼ï¼ï¼ˆæœç„¶è¿˜æ˜¯æˆ‘å¤ªèœäº†ï¼Œå®˜æ–¹éƒ½è®¤ä¸ºå¤ªç®€å•ç»™åˆ æ‰äº†ï¼‰

```js
// store.js
const store = new Vuex.Store({
  state: {
    count: 1
  },
  mutations: {
    increment (state) {
      // å˜æ›´çŠ¶æ€
      state.count++
    }
  }
})

export default store

// a.js
import store from './store.js'

console.log(store.state.count) // 1
store.commit('increment')
console.log(store.state.count)// 2
```

è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯é‚£é‡Œçš„`'./store.js`æ˜¯ç›¸å¯¹åœ°å€ï¼Œè¦æ³¨æ„ä¸‹è‡ªå·±çš„è·¯å¾„ä¸è¦é€‰é”™äº†'ï¼Œå¦å¤–å¦‚æœæ˜¯åˆšåŠ è½½çš„æ—¶å€™ï¼Œstateé‡Œé¢è¿˜æ²¡æœ‰æ•°æ®ï¼Œå¦‚æœç›´æ¥è°ƒç”¨å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼Œéœ€è¦è¿›è¡Œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºä¹‹åå†ä½¿ç”¨ã€‚

### 4. el-upload ç»„ä»¶å†…çš„æŒ‰é’®å¼ºåˆ¶ä¸ºé€‰æ‹©æ–‡ä»¶

#### åŸå› åˆ†æ

æˆ‘éœ€è¦å®ç°çš„éœ€æ±‚æ˜¯è¿™æ ·çš„ï¼Œä¸€ä¸ªä¸Šä¼ èº«ä»½è¯ç…§ç‰‡çš„è¡¨å•é¡¹ç›®ï¼š

```js
<el-form-item label="èº«ä»½è¯ç…§ç‰‡" prop='ID_pics'>
  <el-upload
    action="http://xxx.xxx.xxx.xxx/v2"
    :auto-upload="false"
    :limit="3"
    :on-change="handleChangeLicense"
    :on-exceed="handleExceed"
    :file-list="license"
    multiple>
    <el-button size="small" type="primary">é€‰æ‹©æ–‡ä»¶</el-button>
    <el-button size="small" type="primary" @click="uploadIDPic">ç‚¹å‡»ä¸Šä¼ </el-button>
    <div slot="tip" class="el-upload__tip">èº«ä»½è¯æ­£é¢ä»¥åŠèƒŒé¢ï¼Œåªèƒ½ä¸Šä¼ jpg/pngæ–‡ä»¶</div>
  </el-upload>
</el-form-item>
```

é¢„æœŸæ•ˆæœå¦‚ä¸‹ï¼š

![é¢„æœŸæ•ˆæœ](https://xerrors.oss-cn-shanghai.aliyuncs.com/blog/20200301/bIiuGvvCuz9u.png)

é—®é¢˜å‡ºç°äº†ï¼ï¼ï¼è¿™ä¸ªæ—¶å€™ä¸¤ä¸ªæŒ‰é’®ç‚¹å‡»ä¹‹åéƒ½æ˜¯é€‰æ‹©æ‰“å¼€æ–‡ä»¶ã€‚

#### è§£å†³åŠæ³•

> å‚è€ƒï¼š[Element UI å®˜ç½‘ upload ç»„ä»¶](https://element.eleme.cn/#/zh-CN/component/upload#slot)
>
> è¿™é‡Œæ˜¯å®˜æ–¹å¯¹äº`upload`çš„ä¸¤ä¸ªæ’æ§½çš„ä»‹ç»

**Slot**

| name        | è¯´æ˜                 |
| :---------- | :------------------- |
| **trigger** | è§¦å‘æ–‡ä»¶é€‰æ‹©æ¡†çš„å†…å®¹ |
| tip         | æç¤ºè¯´æ˜æ–‡å­—         |

æ‰€ä»¥æˆ‘ä»¬çš„è§£å†³åŠæ³•æ˜¯åœ¨ç¬¬ä¸€ä¸ªä¸Šé¢æ·»åŠ ä¸€ä¸ªæ’æ§½ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸¤ä¸ªæŒ‰é’®å˜æˆè¿™æ ·ï¼š

```js
<el-button slot="trigger" size="small" type="primary">é€‰æ‹©æ–‡ä»¶</el-button>
<el-button
	size="small"
	style="margin-left: 10px"
	type="primary"
	@click="uploadIDPic">
    ç‚¹å‡»ä¸Šä¼ 
</el-button>
```

ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä¿®æ”¹ä¹‹åè¾¹è·å°±æ¶ˆå¤±äº†ï¼Œæ‰€ä»¥éœ€è¦æŒ‡å®šä¸€ä¸‹ã€‚

### 5. el-upload ä¸Šä¼  formData æ•°æ®

è¿™é‡Œä¾ç„¶æ—¶ä½¿ç”¨ä¸Šé¢çš„ä¸Šä¼ ç»„ä»¶å‡ºç°çš„é—®é¢˜ï¼Œè¿™é‡Œç€é‡äºè¯´ä¸€ç‚¹ï¼šåç«¯è¦æ±‚çš„æ˜¯æŠŠç…§ç‰‡å­˜æˆæ•°ç»„å½¢å¼ï¼Œä½†æ˜¯æˆ‘æŠŠæ•°æ®ä¼ åˆ°åç«¯ä¹‹åï¼Œä¸€ç›´æç¤ºä¸æ˜¯æ•°ç»„ç±»å‹ã€‚æ¥è¿‘äºå´©æºƒå•Šï¼ŒæœŸé—´æŸ¥äº†å„ç§èµ„æ–™ï¼Œä¹Ÿè®©æˆ‘å¯¹æ–‡ä»¶ä¸Šä¼ æœ‰äº†æ›´åŠ æ·±åˆ»çš„è®¤è¯†ã€‚

è¿™é‡Œæ¨èä¸€ä¸ªå¤§ä½¬çš„æ–‡ç« ï¼š

[ä½¿ç”¨ElementUIå’ŒAxiosä»¥formDataæ ¼å¼æäº¤å¸¦æœ‰æ–‡ä»¶çš„è¡¨å•çš„é”™è¯¯ç¤ºèŒƒåŠåˆ†æè§£å†³@segmentfault](https://segmentfault.com/a/1190000015368701)

å¦‚æœä½ è·Ÿæˆ‘ä¸€æ ·éœ€è¦æ‰‹åŠ¨ä¸Šä¼ å¹¶ä¸”è¦æ±‚ç±»å‹æ˜¯`formData`å½¢å¼çš„è¯ï¼Œçœ‹å®Œä¸Šé¢é‚£ç¯‡æ–‡ç« ä½ åŸºæœ¬ä¸Šå°±ç®—æ˜¯è§£å†³é—®é¢˜ã€‚

é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ—¢ç„¶ä¸Šé¢çš„æ–‡ç« å·²ç»è®²çš„é‚£ä¹ˆæ¸…æ¥šäº†ï¼Œæˆ‘çš„ä¸ºå•¥è¿˜æ˜¯æœ‰é—®é¢˜ï¼Ÿï¼Ÿï¼Ÿé—®é¢˜çš„å…³é”®åœ¨äºï¼Œæ–‡ä¸­ä¸¾å¾—ä¾‹å­æ˜¯å•ä¸ªæ–‡ä»¶çš„æƒ…å†µï¼Œåˆ°äº†æˆ‘è¿™é‡Œæ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œè¿™ä¸å°±å‡ºé—®é¢˜äº†å˜›ï¼

```js
// template éƒ¨åˆ†
<el-form-item label="è¥ä¸šæ‰§ç…§" prop="license">
  <el-upload
    action="http://xxx.xxx.xxx.xxx/v2" // æ‰‹åŠ¨ä¸Šä¼ ï¼Œè¿™é‡Œå¯ç©ºï¼Œä½†å¿…é¡»æœ‰
    :auto-upload="false"
    :on-change="handleChangeLicense"
    :file-list="licenses"
    multiple>
    <el-button slot="trigger" size="small" type="primary">é€‰æ‹©æ–‡ä»¶</el-button>
    <el-button size="small" style="margin-left: 10px" type="primary" @click="uploadLicense">ç‚¹å‡»ä¸Šä¼ </el-button>
  </el-upload>
</el-form-item>

// javascript éƒ¨åˆ†
handleChangeLicense (file, filelist) {
  // æ³¨æ„è¿™é‡Œæ˜¯ä½¿ç”¨mapå¾—åˆ°æ–‡ä»¶é‡Œé¢çš„rawæ–‡ä»¶
  this.license = filelist.map(i => i.raw)
},

uploadLicense () {
  // ä¸Šä¼ è¥ä¸šæ‰§ç…§
  const formData = new FormData()
  formData.append('imgs[]', this.license) // imgs[] åç«¯å°±æ˜¯è¿™ä¹ˆå‘½åçš„
  formData.append('others', this.others) // å…¶ä»–å‚æ•°ï¼Œä¸æ˜¯é‡ç‚¹
  return new Promise((resolve, reject) => {
    uploadPics(formData).then(res => {
      console.log(res)
      resolve()
    }).catch(err => {
      reject(err)
    })
  })
},
```

ä¸Šé¢çš„å†™æ³•çœ‹ä¼¼äººç•œæ— å®³ï¼Œä½†æ˜¯æ¯æ¬¡å‘åç«¯åŒå­¦å‘é€è¯·æ±‚éƒ½ä¼šå¾—åˆ°**æ— æƒ…çš„æ‹’ç»**ã€‚

#### è§£å†³åŠæ³•

ä½†æ˜¯ï¼ï¼ï¼åæ¥æˆ‘å¶ç„¶çš„åœ¨`postman`ç”Ÿæˆçš„æ–‡æ¡£é‡Œé¢çœ‹åˆ°`fetch`çš„å†™æ³•ï¼š

```js
var formdata = new FormData();
formdata.append("others", "123456");
formdata.append("imgs[]", fileInput.files[0], "/file1.png");
formdata.append("imgs[]", fileInput.files[0], "/file2.png");
```

è™½ç„¶æˆ‘æ²¡å­¦è¿‡`fetch`ï¼Œä½†æ˜¯æˆ‘ä¹Ÿå¥½å¥‡ä¸ºä»€ä¹ˆä¸¤ä¸ªæ–‡ä»¶è¦åˆ†ä¸¤æ¬¡æ”¾åˆ°`formdata`é‡Œé¢ï¼Œæ‰€ä»¥æˆ‘å°±æŠ±ç€è¯•ä¸€è¯•çš„æ€åº¦ä½¿ç”¨`for...of...`ä¾æ¬¡æ”¾è¿›å»ã€‚

```js
// ä¸Šä¸‹æ–‡åŒä¸Š
const formData = new FormData()
for (var file of this.license) {
  formData.append('imgs[]', file)
}
```

ç„¶åå°±å¥½äº†ã€‚ã€‚ã€‚ã€‚

å…·ä½“çš„åŸå› æˆ‘ä¹Ÿæ‰¾åˆ°äº†ä¸€ä¸ªåšå®¢è¯´çš„æŒºå¯¹çš„ï¼š

> å‚è€ƒï¼š[formData æ·»åŠ æ•°ç»„@CSDN]()
>
> æŠŠæ•°ç»„ç›´æ¥appendåˆ°FormDataå¯¹è±¡ä¸­ï¼Œpostçš„è¯·æ±‚ä¼šæŠŠæ•°ç»„æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²å‘é€ç»™æœåŠ¡å™¨ï¼Œåˆä¸æƒ³åœ¨æœåŠ¡å™¨ç«¯æˆªå–å­—ç¬¦ä¸²ã€‚
>
> è§£å†³æ–¹æ¡ˆï¼šéå†æ•°ç»„æŠŠæ•°ç»„é¡¹ä¾æ¬¡appendæ·»åŠ åˆ°FormDataå¯¹è±¡ï¼ŒæœåŠ¡å™¨ç«¯å°±å¯ä»¥è·å–æ•°ç»„äº†ã€‚

#### æ€»ç»“

æ‰€ä»¥é—®é¢˜çš„å…³é”®å°±åœ¨äºå‘`formdata`é‡Œé¢å­˜æ”¾æ•°ç»„çš„æ—¶å€™è¦ä¾æ¬¡æ”¾è¿›å»ã€‚



## åŸºç¡€é—®é¢˜

### JavaScript ç›¸å…³

å¾ˆå¤šæ—¶å€™å°±æ˜¯è®°ä¸ä½ï¼Œè¿˜æ˜¯ä¿å­˜ä¸€ä¸‹æ–¹ä¾¿ä»¥åæ¥æŸ¥

#### 1. å¦‚ä½•éå† JS å¯¹è±¡

æˆ‘æœ‰ä¸€ä¸ªå¯¹è±¡ï¼ˆå…¶å®æˆ‘è¿˜çœŸçš„æœ‰ä¸ªå¯¹è±¡ğŸ‘©ï¼‰ï¼Œé•¿è¿™æ ·ï¼š

```json
{
  "code": 1,
  "info": {
      "æ‰‹æœºçŠ¶æ€": ["æ­£å¸¸è¿›å…¥æ¡Œé¢","æ— æ³•å¼€æœºæˆ–è€…è¿›å…¥æ¡Œé¢","å…¨æ–°æœªæ‹†å°"],
      "å†…å­˜ã€å­˜å‚¨å®¹é‡": ["256G","128G","64G","32G"],
      "è´¦å·å¯å¦é€€å‡º": ["å¯æ­£å¸¸é€€å‡º","ä¸å¯é€€å‡º"],
      "ç£¨æŸç¨‹åº¦": ["å¤–å£³æ— ç‘•ç–µ","ç»†å¾®åˆ’ç—•æ— ç£•ç¢°","ç£•ç¢°æ‰æ¼†ã€è¾¹æ¡†ç£¨æŸ","å¤–å£³è£‚ç¼ã€å˜å½¢"],
      "å±å¹•ç£¨æŸ": ["å®Œç¾ä½¿ç”¨æ— åˆ’ç—•","ç»†å¾®åˆ’ç—•","åˆ’ä¼¤ã€è„±èƒ¶ã€å°ç¼ºè§’","ç¢è£‚ã€è¾¹è§’ç ´æŸ"],
      "å±å¹•æ˜¾ç¤º": ["å®Œç¾æ— ç‘•ç–µ","æ˜¾ç¤ºè‰²å·®ï¼Œæˆ–è½»å¾®æ³›é»„/äº®åç‚¹","æ˜¾ç¤ºçƒ§å±ï¼Œæˆ–æœ‰é€å›¾/é€å­—","æ˜¾ç¤ºæ¼æ¶²ï¼Œæˆ–é—ªçƒ/æ¨ªç«–çº¿/èŠ±å±"],
      "ç»´ä¿®çŠ¶å†µ": ["æ— ç»´ä¿®æƒ…å†µ","å±å¹•ç»´ä¿®","ä¸»æ¿ç»´ä¿®æˆ–åŠŸèƒ½æ•…éšœ","å±å¹•å’Œä¸»æ¿çš†æœ‰ç»´ä¿®"]
  }
}
```

æˆ‘è¿˜ä»æ¥æ²¡å†™è¿‡è¿™æ ·çš„æ•°æ®ï¼Œä½†æ˜¯æ—¢ç„¶æœ‰äº†ä¹Ÿæ²¡åŠæ³•å•Šï¼Œè¯•ç€éå†ä¸€ä¸‹å‘—ï¼

> æ‘˜è‡ªMDN
>
> ä¸‹é¢çš„å‡½æ•°æ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ã€‚è¢«è°ƒç”¨æ—¶è¿­ä»£ä¼ å…¥å¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ç„¶åè¿”å›ä¸€ä¸ªæ‰€æœ‰å±æ€§åå’Œå…¶å¯¹åº”å€¼çš„å­—ç¬¦ä¸²ã€‚:smile:

```js
var obj = {a:1, b:2, c:3};
    
for (var prop in obj) {
  console.log("obj." + prop + " = " + obj[prop]);
}

// Output:
// "obj.a = 1"
// "obj.b = 2"
// "obj.c = 3"
```

> æ‘˜è‡ªMDNï¼Œ[æŸ¥çœ‹ç¤ºä¾‹](https://interactive-examples.mdn.mozilla.net/pages/js/object-entries.html)
>
> è¿˜å¯ä»¥ä½¿ç”¨`Object.entries()`æ–¹æ³•è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ï¼Œå…¶æ’åˆ—ä¸ä½¿ç”¨ `for...in`å¾ªç¯éå†è¯¥å¯¹è±¡æ—¶è¿”å›çš„é¡ºåºä¸€è‡´ï¼ˆåŒºåˆ«åœ¨äº for-in å¾ªç¯ä¹Ÿæšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ï¼‰

```js
const object1 = {
  a: 'somestring',
  b: 42
};

for (let [key, value] of Object.entries(object1)) {
  console.log(`${key}: ${value}`);
}

// expected output:
// "a: somestring"
// "b: 42"
// order is not guaranteed
```

## ç¯å¢ƒé…ç½®é—®é¢˜

### æ›´æ–°yarnæ—¶é”™è¯¯ï¼š

#### é—®é¢˜æè¿°

```shell
Err:6 https://dl.yarnpkg.com/debian stable InRelease
  The following signatures were invalid: EXPKEYSIG 23E7166788B63E1E Yarn Packaging <yarn@dan.cx>
Reading package lists... Done
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://dl.yarnpkg.com/debian stable InRelease: The following signatures were invalid: EXPKEYSIG 23E7166788B63E1E Yarn Packaging <yarn@dan.cx>
W: Failed to fetch https://dl.yarnpkg.com/debian/dists/stable/InRelease  The following signatures were invalid: EXPKEYSIG 23E7166788B63E1E Yarn Packaging <yarn@dan.cx>
W: Some index files failed to download. They have been ignored, or old ones used instead.
```

#### é”™è¯¯åŸå› 

æ˜¯  GPG key è¿‡æœŸäº†ï¼Œéœ€è¦æ›´æ–°ã€‚

#### è§£å†³åŠæ³•

ç›´æ¥æ›´æ–° GPG keyï¼š`curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -`

å‚è€ƒï¼š[Filed to fatch upgrades](https://www.reddit.com/r/pop_os/comments/f08aky/failed_to_fetch_updates/)